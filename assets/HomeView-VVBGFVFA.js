import{t as k}from"./utils-sTL9UzG1.js";import{P as w}from"./ProductComponent-bwyuZmch.js";import{_ as P,r as g,o as n,c as i,b as t,a as r,w as p,F as _,g as m,h as a,t as d,i as C,n as f,f as E}from"./index-2BssBkm8.js";import"./ordersStore-wdSb9bhT.js";var S={VITE_APP_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_API_NAME:"ektodorwang-api",BASE_URL:"/ghibli-store/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API_URL:v,VITE_APP_API_NAME:x}=S,A={data(){return{products:[],tempProduct:{},detailModal:null,articles:[],productStatus:!1,articleStatus:!1,loading:null}},components:{ProductComponent:w},methods:{getProducts(){this.$http.get(`${v}/api/${x}/products?page=1`).then(e=>{const o=e.data.products;this.products=o.length>5?o.slice(0,3):o,this.productStatus=!0,this.hideLoading()})},openModal(e){this.tempProduct=JSON.parse(JSON.stringify(e)),this.detailModal.show()},timestampToTwTime:k,getArticles(e=1){this.$http.get(`${v}/api/${x}/articles?page=${e}`).then(o=>{const u=o.data.articles;this.articles=u.length>5?u.slice(0,3):u,this.articleStatus=!0,this.hideLoading()})},showDescription(e){return e.length>100?`${e.substring(0,97)}...`:e},hideLoading(){this.productStatus&&this.articleStatus&&this.loading.hide()}},mounted(){this.loading=this.$loading.show(),this.getProducts(),this.getArticles()}},T={class:"home w-100 vh-100 position-absolute top-0"},N={class:"home-banner vh-100 d-flex"},V=t("h3",{class:"m-0"},"遇見吉卜力",-1),M=t("i",{class:"bi bi-caret-down fs-1"},null,-1),$={class:"vh-100 container-lg py-3",id:"topic",style:{"background-image":"url('https://www.ghibli.jp/img/totoro.png')","background-position":"center","background-repeat":"no-repeat"}},j={class:"d-flex justify-content-around align-items-center h-100 flex-column flex-lg-row gap-5"},I=t("h2",null,[t("i",{class:"bi bi-film m-2"}),a("強檔片單")],-1),D=t("i",{class:"bi bi-hand-index-thumb fs-1"},null,-1),L=t("h2",null,[t("i",{class:"bi bi-fire mx-2"}),a("活動消息")],-1),R=t("i",{class:"bi bi-hand-index-thumb fs-1"},null,-1),B=t("h2",null,"關於我們",-1),O=t("i",{class:"bi bi-hand-index-thumb fs-1"},null,-1),U={class:"vh-100 bg-success py-3",id:"products"},q={class:"container-lg h-100"},F=t("h2",{class:"mt-4"},[t("i",{class:"bi bi-film mx-2"}),a("強檔片單")],-1),z={id:"carouselExampleCaptions",class:"carousel slide mt-4 border border-3 rounded-5"},J={class:"carousel-indicators"},W=["data-bs-slide-to","aria-label"],H={class:"carousel-inner"},Y=["src","alt"],G={class:"carousel-caption bg-white bg-opacity-75 rounded-5"},K={class:"text-primary"},Q=["onClick"],X=C('<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span><span class="visually-hidden">Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next"><span class="carousel-control-next-icon" aria-hidden="true"></span><span class="visually-hidden">Next</span></button>',2),Z={class:"min-vh-100 py-3",id:"news"},tt={class:"container-lg h-100",style:{"background-image":"url('https://www.ghibli.jp/img/totoro.png')","background-position":"center","background-repeat":"no-repeat"}},st={class:"d-flex flex-column gap-3 justify-content-center h-100"},et=t("h2",{class:"text-danger mt-3 mt-lg-0"},[t("i",{class:"bi bi-fire mx-2"}),a("活動快訊")],-1),ot=t("hr",{class:"m-1"},null,-1),nt={class:"card-header fs-4 bg-warning bg-opacity-50"},it=["onClick"],at={key:0,class:"badge text-bg-danger mb-2"},lt={class:"blockquote mb-0"},ct={class:"blockquote-footer"},rt={title:"Source Title"},dt={class:"bg-secondary bg-opacity-75 z-1 d-flex",style:{height:"50px"}},ut={class:"m-auto"},ht=t("i",{class:"bi bi-c-circle fs-6 mx-2"},null,-1);function pt(e,o,u,_t,l,b){const h=g("router-link"),y=g("ProductComponent");return n(),i(_,null,[t("div",T,[t("div",N,[r(h,{to:"#topic",style:{"--bs-icon-link-transform":"translate3d(0, 0.2rem, 0)","min-width":"300px"},class:"icon-link icon-link-hover m-auto btn p-4 bg-white bg-opacity-25 d-flex flex-column"},{default:p(()=>[V,M]),_:1})]),t("div",$,[t("div",j,[r(h,{to:"/products",class:"icon-link w-50 h-50 icon-link-hover d-flex flex-column rounded-5 justify-content-center btn btn-outline-primary border-3 d-flex align-items-center shadow",style:{"--bs-icon-link-transform":"translate3d(0, -0.5rem, 0)"}},{default:p(()=>[I,D]),_:1}),r(h,{to:"/news",class:"icon-link icon-link-hover w-50 h-50 d-flex flex-column rounded-5 justify-content-center btn btn-outline-primary border-3 d-flex align-items-center shadow",style:{"--bs-icon-link-transform":"translate3d(0, -0.5rem, 0)"}},{default:p(()=>[L,R]),_:1}),r(h,{to:"/about",class:"icon-link icon-link-hover w-50 h-50 d-flex flex-column rounded-5 justify-content-center btn btn-outline-primary border-3 d-flex align-items-center shadow",style:{"--bs-icon-link-transform":"translate3d(0, -0.5rem, 0)"}},{default:p(()=>[B,O]),_:1})])]),t("div",U,[t("div",q,[F,t("div",z,[t("div",J,[(n(!0),i(_,null,m(l.products,(s,c)=>(n(),i("button",{key:s,type:"button","data-bs-target":"#carouselExampleCaptions",class:f([{active:c==0},"text-bg-primary"]),"aria-current":"true","data-bs-slide-to":c,"aria-label":`Slide ${c+1}`},null,10,W))),128))]),t("div",H,[(n(!0),i(_,null,m(l.products,(s,c)=>(n(),i("div",{class:f(["carousel-item",{active:c==0}]),key:s},[t("img",{src:s==null?void 0:s.imagesUrl[0],class:"d-block img-fluid w-100 object-fit-cover rounded-5",style:{height:"80vh"},alt:s.title},null,8,Y),t("div",G,[t("h5",K,d(s.title),1),t("button",{class:"btn btn-outline-primary",onClick:bt=>b.openModal(s)},"查看詳情",8,Q)])],2))),128))]),X])])]),t("div",Z,[t("div",tt,[t("div",st,[et,ot,(n(!0),i(_,null,m(l.articles,s=>(n(),i("div",{class:"card",key:s},[t("div",nt,d(s.title),1),t("div",{class:"card-body",style:{cursor:"pointer"},onClick:()=>e.$router.push(`./news/${s.id}`)},[s.num==1?(n(),i("span",at,"NEW")):E("",!0),t("blockquote",lt,[t("p",null,d(b.showDescription(s.description)),1),t("footer",ct,[a(" 發布時間 "),t("cite",rt,d(b.timestampToTwTime(s.create_at)),1)])])],8,it)]))),128))])])]),t("footer",dt,[t("span",ut,[a("Copyright"),ht,a(d(new Date().getFullYear())+" Tippy Wang",1)])])]),r(y,{tempProduct:l.tempProduct,onModal:o[0]||(o[0]=s=>l.detailModal=s)},null,8,["tempProduct"])],64)}const xt=P(A,[["render",pt]]);export{xt as default};
