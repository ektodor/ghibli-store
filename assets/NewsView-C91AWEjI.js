import{t as h}from"./utils-CnJ9Rcy0.js";import{P as m}from"./PaginationComponent-BbM6pXU3.js";import{_ as g,r as u,o as s,c as a,b as t,a as P,F as b,i as f,f as _,t as n,g as A}from"./index-CT0q0FpJ.js";var E={VITE_APP_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_API_NAME:"ektodorwang-api",BASE_URL:"/ghibli-store/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API_URL:T,VITE_APP_API_NAME:V}=E,v={data(){return{articles:[],pagination:{}}},components:{PaginationComponent:m},methods:{timestampToTwTime:h,getArticles(i=1){const c=this.$loading.show();this.$http.get(`${T}/api/${V}/articles?page=${i}`).then(o=>{this.articles=o.data.articles,this.pagination=o.data.pagination,c.hide()}).catch(o=>{console.error(o.message)})}},mounted(){this.getArticles()}},w={class:"container-lg"},C={class:"d-flex align-items-center mt-5"},x=t("h1",{class:"m-0"},[t("i",{class:"bi bi-balloon text-danger"}),_("活動消息")],-1),I={class:"table table-hover align-middle text-center m-0 mt-4"},N=t("thead",{class:"table-primary"},[t("tr",null,[t("th",{scope:"col"},"#"),t("th",{scope:"col"},"消息"),t("th",{scope:"col"},"描述"),t("th",{scope:"col"},"創建時間")])],-1),k={class:"table-group-divider"},y=["onClick"],$={scope:"row"},R={class:"w-25"},B={class:"m-0 py-1"},D={key:0,class:"badge text-bg-danger ms-2 mb-1"};function L(i,c,o,S,r,l){const d=u("PaginationComponent");return s(),a("div",w,[t("div",C,[x,P(d,{class:"ms-auto",pagination:r.pagination,onCurrentPage:l.getArticles},null,8,["pagination","onCurrentPage"])]),t("table",I,[N,t("tbody",k,[(s(!0),a(b,null,f(r.articles,(e,p)=>(s(),a("tr",{key:p,onClick:()=>i.$router.push(`./news/${e.id}`),style:{cursor:"pointer"}},[t("th",$,n(e.num),1),t("td",R,[t("p",B,[_(n(e.title)+" ",1),e.num==1?(s(),a("span",D,"NEW")):A("",!0)])]),t("td",null,n(e.description),1),t("td",null,n(l.timestampToTwTime(e.create_at)),1)],8,y))),128))])])])}const O=g(v,[["render",L]]);export{O as default};
