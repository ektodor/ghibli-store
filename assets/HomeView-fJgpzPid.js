import{t as C}from"./utils-sTL9UzG1.js";import{e as M,M as E,_ as k,o as n,c as i,b as t,t as c,F as b,g,n as f,f as w,d as S,h as A,i as P,r as v,a as _,w as m,j as u}from"./index-2a5Nf4DG.js";import{o as T}from"./ordersStore-i-HjApLS.js";import{_ as D}from"./ghibli-info-rental-3C-ULPwj.js";const N={data(){return{tempQty:1,openDetailModal:null}},props:["tempProduct"],methods:{...M(T,["addProduct"]),addOrder(o,e){this.addProduct(o,e,this.openDetailModal)}},mounted(){this.openDetailModal=new E(this.$refs.detailModal),this.$emit("modal",this.openDetailModal)}},V={ref:"detailModal",class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},j={class:"modal-dialog modal-dialog-scrollable modal-lg"},L={class:"modal-content"},I={class:"modal-header bg-danger text-white"},B={class:"modal-title",id:"staticBackdropLabel"},U={class:"modal-body"},O={class:"container-fluid"},R={class:"row mb-3"},Q={class:"col"},q={class:"badge rounded-pill bg-primary"},F={key:0,class:"row mb-3"},z={id:"carouselExampleControls",class:"carousel slide","data-bs-ride":"carousel"},J={class:"carousel-inner"},W=["src"],H=P('<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span><span class="visually-hidden">Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next"><span class="carousel-control-next-icon" aria-hidden="true"></span><span class="visually-hidden">Next</span></button>',2),Y=t("div",{class:"row mb-2"},[t("div",{class:"col"},[t("span",{class:"badge bg-warning text-dark"},"商品簡介")])],-1),G={class:"row mb-3"},K={class:"col"},X=t("div",{class:"row mb-2"},[t("div",{class:"col"},[t("span",{class:"badge bg-warning text-dark"},"商品描述")])],-1),Z={class:"row"},tt={class:"col"},st={class:"modal-footer d-flex justify-content-end"},et={class:"input-group mb-3 w-50"};function ot(o,e,a,$,l,h){var r;return n(),i("div",V,[t("div",j,[t("div",L,[t("div",I,[t("h5",B,c(a.tempProduct.title),1),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:e[0]||(e[0]=d=>o.closeModal())})]),t("div",U,[t("div",O,[t("div",R,[t("div",Q,[t("span",q,c(a.tempProduct.category),1)])]),((r=a.tempProduct.imagesUrl)==null?void 0:r.length)>0?(n(),i("div",F,[t("div",z,[t("div",J,[(n(!0),i(b,null,g(a.tempProduct.imagesUrl,(d,s)=>(n(),i("div",{class:f(`carousel-item ${s===1?"active":""}`),key:d},[t("img",{src:d,class:"d-block w-100",alt:"..."},null,8,W)],2))),128))]),H])])):w("",!0),Y,t("div",G,[t("div",K,c(a.tempProduct.description),1)]),X,t("div",Z,[t("div",tt,c(a.tempProduct.content),1)])])]),t("div",st,[t("div",et,[S(t("input",{type:"number",class:"form-control",placeholder:"數量","aria-label":"數量","aria-describedby":"button-addon2","onUpdate:modelValue":e[1]||(e[1]=d=>l.tempQty=d)},null,512),[[A,l.tempQty]]),t("button",{class:"btn btn-outline-danger",type:"button",id:"button-addon2",onClick:e[2]||(e[2]=d=>h.addOrder(a.tempProduct.id,l.tempQty))}," 加入購物車 ")])])])])],512)}const at=k(N,[["render",ot]]);var nt={VITE_APP_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_API_NAME:"ektodorwang-api",BASE_URL:"/ghibli-store/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API_URL:y,VITE_APP_API_NAME:x}=nt,it={data(){return{products:[],tempProduct:{},detailModal:null,articles:[],productStatus:!1,articleStatus:!1,loading:null}},components:{ProductComponent:at},methods:{getProducts(){this.$http.get(`${y}/api/${x}/products?page=1`).then(o=>{const e=o.data.products;this.products=e.length>5?e.slice(0,3):e,this.productStatus=!0,this.hideLoading()})},openModal(o){this.tempProduct=JSON.parse(JSON.stringify(o)),this.detailModal.show()},timestampToTwTime:C,getArticles(o=1){this.$http.get(`${y}/api/${x}/articles?page=${o}`).then(e=>{const a=e.data.articles;this.articles=a.length>5?a.slice(0,3):a,this.articleStatus=!0,this.hideLoading()})},showDescription(o){return o.length>100?`${o.substring(0,97)}...`:o},hideLoading(){this.productStatus&&this.articleStatus&&this.loading.hide()}},mounted(){this.loading=this.$loading.show(),this.getProducts(),this.getArticles()}},lt={class:"home w-100 vh-100 position-absolute top-0"},ct={class:"home-banner vh-100 d-flex"},dt=t("img",{style:{height:"70px"},class:"py-2",src:D,alt:"logo"},null,-1),rt=t("p",{class:"text-start mb-0"},"我們致力於為用戶提供方便、快捷的租賃體驗。",-1),ut=t("p",{class:"m-0"}," 無論是《龍貓》、《魔法公主》、《天空之城》還是其他經典作品，用戶可以輕鬆地租賃和欣賞最喜愛的吉卜力動畫電影，隨時隨地沉浸在這些令人驚嘆的故事和精彩的動畫世界中。 ",-1),ht=t("p",null,"立即加入我們，一同探索吉卜力動畫的奇妙世界吧！",-1),pt=t("i",{class:"bi bi-caret-down fs-1 jumping"},null,-1),_t={class:"vh-100 container-lg py-3",id:"topic",style:{"background-image":"url('https://www.ghibli.jp/img/totoro.png')","background-position":"center","background-repeat":"no-repeat"}},bt={class:"d-flex justify-content-around align-items-center h-100 flex-column flex-lg-row gap-5"},mt=t("h2",null,[t("i",{class:"bi bi-film m-2"}),u("強檔片單")],-1),gt=t("i",{class:"bi bi-hand-index-thumb fs-1"},null,-1),ft=t("h2",null,[t("i",{class:"bi bi-fire mx-2"}),u("活動消息")],-1),vt=t("i",{class:"bi bi-hand-index-thumb fs-1"},null,-1),yt=t("h2",null,"關於我們",-1),xt=t("i",{class:"bi bi-hand-index-thumb fs-1"},null,-1),kt={class:"vh-100 bg-success py-3",id:"products"},wt={class:"container-lg h-100"},Pt=t("h2",{class:"mt-4"},[t("i",{class:"bi bi-film mx-2"}),u("強檔片單")],-1),$t={id:"carouselExampleCaptions",class:"carousel slide mt-4 border border-3 rounded-5"},Ct={class:"carousel-indicators"},Mt=["data-bs-slide-to","aria-label"],Et={class:"carousel-inner"},St=["src","alt"],At={class:"carousel-caption bg-white bg-opacity-75 rounded-5"},Tt={class:"text-primary"},Dt=["onClick"],Nt=P('<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span><span class="visually-hidden">Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next"><span class="carousel-control-next-icon" aria-hidden="true"></span><span class="visually-hidden">Next</span></button>',2),Vt={class:"min-vh-100 py-3",id:"news"},jt={class:"container-lg h-100",style:{"background-image":"url('https://www.ghibli.jp/img/totoro.png')","background-position":"center","background-repeat":"no-repeat"}},Lt={class:"d-flex flex-column gap-3 justify-content-center h-100"},It=t("h2",{class:"text-danger mt-3 mt-lg-0"},[t("i",{class:"bi bi-fire mx-2"}),u("活動快訊")],-1),Bt=t("hr",{class:"m-1"},null,-1),Ut={class:"card-header fs-4 bg-warning bg-opacity-50"},Ot=["onClick"],Rt={key:0,class:"badge text-bg-danger mb-2"},Qt={class:"blockquote mb-0"},qt={class:"blockquote-footer"},Ft={title:"Source Title"},zt={class:"bg-secondary bg-opacity-75 z-1 d-flex",style:{height:"50px"}},Jt={class:"m-auto"},Wt=t("i",{class:"bi bi-c-circle fs-6 mx-2"},null,-1);function Ht(o,e,a,$,l,h){const r=v("router-link"),d=v("ProductComponent");return n(),i(b,null,[t("div",lt,[t("div",ct,[_(r,{to:"#topic",style:{"--bs-icon-link-transform":"translate3d(0, 0.2rem, 0)","max-width":"500px"},class:"icon-link icon-link-hover m-auto btn p-4 bg-white bg-opacity-25 d-flex flex-column"},{default:m(()=>[dt,rt,ut,ht,pt]),_:1})]),t("div",_t,[t("div",bt,[_(r,{to:"/products",class:"icon-link w-50 h-50 icon-link-hover d-flex flex-column rounded-5 justify-content-center btn btn-outline-primary border-3 d-flex align-items-center shadow",style:{"--bs-icon-link-transform":"translate3d(0, -0.5rem, 0)"}},{default:m(()=>[mt,gt]),_:1}),_(r,{to:"/news",class:"icon-link icon-link-hover w-50 h-50 d-flex flex-column rounded-5 justify-content-center btn btn-outline-primary border-3 d-flex align-items-center shadow",style:{"--bs-icon-link-transform":"translate3d(0, -0.5rem, 0)"}},{default:m(()=>[ft,vt]),_:1}),_(r,{to:"/about",class:"icon-link icon-link-hover w-50 h-50 d-flex flex-column rounded-5 justify-content-center btn btn-outline-primary border-3 d-flex align-items-center shadow",style:{"--bs-icon-link-transform":"translate3d(0, -0.5rem, 0)"}},{default:m(()=>[yt,xt]),_:1})])]),t("div",kt,[t("div",wt,[Pt,t("div",$t,[t("div",Ct,[(n(!0),i(b,null,g(l.products,(s,p)=>(n(),i("button",{key:s,type:"button","data-bs-target":"#carouselExampleCaptions",class:f([{active:p==0},"text-bg-primary"]),"aria-current":"true","data-bs-slide-to":p,"aria-label":`Slide ${p+1}`},null,10,Mt))),128))]),t("div",Et,[(n(!0),i(b,null,g(l.products,(s,p)=>(n(),i("div",{class:f(["carousel-item",{active:p==0}]),key:s},[t("img",{src:s==null?void 0:s.imagesUrl[0],class:"d-block img-fluid w-100 object-fit-cover rounded-5",style:{height:"80vh"},alt:s.title},null,8,St),t("div",At,[t("h5",Tt,c(s.title),1),t("button",{class:"btn btn-outline-primary",onClick:Yt=>h.openModal(s)},"查看詳情",8,Dt)])],2))),128))]),Nt])])]),t("div",Vt,[t("div",jt,[t("div",Lt,[It,Bt,(n(!0),i(b,null,g(l.articles,s=>(n(),i("div",{class:"card",key:s},[t("div",Ut,c(s.title),1),t("div",{class:"card-body",style:{cursor:"pointer"},onClick:()=>o.$router.push(`./news/${s.id}`)},[s.num==1?(n(),i("span",Rt,"NEW")):w("",!0),t("blockquote",Qt,[t("p",null,c(h.showDescription(s.description)),1),t("footer",qt,[u(" 發布時間 "),t("cite",Ft,c(h.timestampToTwTime(s.create_at)),1)])])],8,Ot)]))),128))])])]),t("footer",zt,[t("span",Jt,[u("Copyright"),Wt,u(c(new Date().getFullYear())+" Tippy Wang",1)])])]),_(d,{tempProduct:l.tempProduct,onModal:e[0]||(e[0]=s=>l.detailModal=s)},null,8,["tempProduct"])],64)}const ts=k(it,[["render",Ht]]);export{ts as default};
