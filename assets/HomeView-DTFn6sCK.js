import{t as M}from"./utils-CnJ9Rcy0.js";import{e as E,M as S,_ as P,o as n,c as a,b as t,t as r,F as m,i as g,n as y,g as $,d as j,j as A,h as k,r as v,a as d,w as u,f as _}from"./index-CaUheBV4.js";import{o as T}from"./ordersStore-IUuIitS8.js";import{_ as D}from"./ghibli-info-rental-DBQ9g2xf.js";import"./sweetalert2.all-CAfc3Fb_.js";const N={data(){return{tempQty:1,openDetailModal:null}},props:["tempProduct"],methods:{...E(T,["addProduct"]),async addOrder(o,s){const i=this.$loading.show();await this.addProduct(o,s,this.openDetailModal),i.hide()}},mounted(){this.openDetailModal=new S(this.$refs.detailModal),this.$emit("modal",this.openDetailModal)}},V={ref:"detailModal",class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},L={class:"modal-dialog modal-dialog-scrollable modal-lg"},I={class:"modal-content"},B={class:"modal-header bg-danger text-white"},R={class:"modal-title",id:"staticBackdropLabel"},U={class:"modal-body"},O={class:"container-fluid"},Q={class:"row mb-3"},q={class:"col"},F={class:"badge rounded-pill bg-primary"},J={key:0,class:"row mb-3"},W={id:"carouselExampleControls",class:"carousel slide","data-bs-ride":"carousel"},z={class:"carousel-inner"},H=["src"],Y=k('<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span><span class="visually-hidden">Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next"><span class="carousel-control-next-icon" aria-hidden="true"></span><span class="visually-hidden">Next</span></button>',2),G=t("div",{class:"row mb-2"},[t("div",{class:"col"},[t("span",{class:"badge bg-warning text-dark"},"商品簡介")])],-1),K={class:"row mb-3"},X={class:"col"},Z=t("div",{class:"row mb-2"},[t("div",{class:"col"},[t("span",{class:"badge bg-warning text-dark"},"商品描述")])],-1),tt={class:"row"},st={class:"col"},et={class:"modal-footer d-flex justify-content-end"},ot={class:"input-group mb-3 w-50"};function it(o,s,i,C,c,p){var h;return n(),a("div",V,[t("div",L,[t("div",I,[t("div",B,[t("h5",R,r(i.tempProduct.title),1),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:s[0]||(s[0]=l=>o.closeModal())})]),t("div",U,[t("div",O,[t("div",Q,[t("div",q,[t("span",F,r(i.tempProduct.category),1)])]),((h=i.tempProduct.imagesUrl)==null?void 0:h.length)>0?(n(),a("div",J,[t("div",W,[t("div",z,[(n(!0),a(m,null,g(i.tempProduct.imagesUrl,(l,f)=>(n(),a("div",{class:y(`carousel-item ${f===1?"active":""}`),key:l},[t("img",{src:l,class:"d-block w-100",alt:"..."},null,8,H)],2))),128))]),Y])])):$("",!0),G,t("div",K,[t("div",X,r(i.tempProduct.description),1)]),Z,t("div",tt,[t("div",st,r(i.tempProduct.content),1)])])]),t("div",et,[t("div",ot,[j(t("input",{type:"number",class:"form-control",placeholder:"數量","aria-label":"數量","aria-describedby":"button-addon2","onUpdate:modelValue":s[1]||(s[1]=l=>c.tempQty=l),min:"1"},null,512),[[A,c.tempQty]]),t("button",{class:"btn btn-outline-danger",type:"button",id:"button-addon2",onClick:s[2]||(s[2]=l=>p.addOrder(i.tempProduct.id,c.tempQty))}," 加入購物車 ")])])])])],512)}const nt=P(N,[["render",it]]);var at={VITE_APP_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_API_NAME:"ektodorwang-api",BASE_URL:"/ghibli-store/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API_URL:x,VITE_APP_API_NAME:w}=at,lt={data(){return{products:[],tempProduct:{},detailModal:null,articles:[],productStatus:!1,articleStatus:!1,loading:null}},components:{ProductComponent:nt},methods:{getProducts(){this.$http.get(`${x}/api/${w}/products?page=1`).then(o=>{const s=o.data.products;this.products=s.length>5?s.slice(0,3):s,this.productStatus=!0,this.hideLoading()}).catch(o=>{console.error(o.message)})},openModal(o){this.tempProduct=JSON.parse(JSON.stringify(o)),this.detailModal.show()},timestampToTwTime:M,getArticles(o=1){this.$http.get(`${x}/api/${w}/articles?page=${o}`).then(s=>{const i=s.data.articles;this.articles=i.length>5?i.slice(0,3):i,this.articleStatus=!0,this.hideLoading()}).catch(s=>{console.error(s.message)})},showDescription(o){return o.length>100?`${o.substring(0,97)}...`:o},hideLoading(){this.productStatus&&this.articleStatus&&this.loading.hide()}},mounted(){this.loading=this.$loading.show(),this.getProducts(),this.getArticles()}},ct={class:"home w-100 vh-100 position-absolute top-0"},dt={class:"home-banner vh-100 d-flex"},rt=t("img",{style:{height:"70px"},class:"py-2",src:D,alt:"logo"},null,-1),ut=t("p",{class:"text-start mb-0"},"我們致力於為用戶提供方便、快捷的租賃體驗。",-1),ht=t("p",{class:"m-0"}," 無論是《龍貓》、《魔法公主》、《天空之城》還是其他經典作品，用戶可以輕鬆地租賃和欣賞最喜愛的吉卜力動畫電影，隨時隨地沉浸在這些令人驚嘆的故事和精彩的動畫世界中。 ",-1),_t=t("p",null,"立即加入我們，一同探索吉卜力動畫的奇妙世界吧！",-1),pt=t("i",{class:"bi bi-caret-down fs-1 jumping"},null,-1),bt={class:"vh-100 container-lg py-3",id:"topic",style:{"background-image":"url('https://www.ghibli.jp/img/totoro.png')","background-position":"center","background-repeat":"no-repeat"}},mt={class:"d-flex justify-content-around align-items-center h-100 flex-column flex-lg-row gap-5"},gt=t("h2",null,[t("i",{class:"bi bi-film m-2"}),_("強檔片單")],-1),ft=t("i",{class:"bi bi-hand-index-thumb fs-1"},null,-1),vt=t("h2",null,[t("i",{class:"bi bi-fire mx-2"}),_("活動消息")],-1),yt=t("i",{class:"bi bi-hand-index-thumb fs-1"},null,-1),kt=t("h2",null,"關於我們",-1),xt=t("i",{class:"bi bi-hand-index-thumb fs-1"},null,-1),wt={class:"vh-100 bg-success py-3",id:"products"},Pt={class:"container-lg h-100"},$t=t("h2",{class:"mt-4"},[t("i",{class:"bi bi-film mx-2"}),_("強檔片單")],-1),Ct={id:"carouselExampleCaptions",class:"carousel slide mt-4 border border-3 rounded-5"},Mt={class:"carousel-indicators"},Et=["data-bs-slide-to","aria-label"],St={class:"carousel-inner"},jt=["src","alt"],At={class:"carousel-caption bg-white bg-opacity-75 rounded-5"},Tt={class:"text-primary"},Dt=["onClick"],Nt=k('<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span><span class="visually-hidden">Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next"><span class="carousel-control-next-icon" aria-hidden="true"></span><span class="visually-hidden">Next</span></button>',2),Vt={class:"min-vh-100 py-3",id:"news"},Lt={class:"container-lg h-100",style:{"background-image":"url('https://www.ghibli.jp/img/totoro.png')","background-position":"center","background-repeat":"no-repeat"}},It={class:"d-flex flex-column gap-3 justify-content-center h-100"},Bt=t("h2",{class:"text-danger mt-3 mt-lg-3 mb-0"},[t("i",{class:"bi bi-fire mx-2"}),_("活動快訊")],-1),Rt=t("hr",{class:"m-1"},null,-1),Ut={class:"card-header fs-4 bg-warning bg-opacity-50"},Ot=["onClick"],Qt={key:0,class:"badge text-bg-danger mb-2"},qt={class:"blockquote mb-0"},Ft={class:"blockquote-footer"},Jt={title:"Source Title"},Wt={class:"bg-secondary bg-opacity-75 p-2 d-flex mt-3"},zt={class:"container"},Ht={class:"row mt-3 justify-content-center"},Yt={class:"col-12"},Gt={class:"nav justify-content-center align-items-center gap-5"},Kt={class:"nav-item"},Xt=t("i",{class:"bi bi-film me-lg-1"},null,-1),Zt=t("div",{class:"d-none d-lg-inline"},"片單",-1),ts={class:"nav-item"},ss=t("i",{class:"bi bi-newspaper me-lg-1"},null,-1),es=t("div",{class:"d-none d-lg-inline"},"消息",-1),os={class:"nav-item"},is=t("i",{class:"bi bi-people-fill me-lg-1"},null,-1),ns=t("div",{class:"d-none d-lg-inline"},"關於我們",-1),as={class:"nav-item"},ls=t("i",{class:"bi bi-cart me-lg-1"},null,-1),cs=t("div",{class:"d-none d-lg-inline"},"購物車",-1),ds=k('<div class="row mt-3"><div class="col-12"><ul class="nav flex gap-4 justify-content-center align-items-center"><li class="nav-item"><a target="_blank" href="https://github.com/ektodor?tab=repositories" class="link-body-emphasis link-offset-2 link-underline-opacity-25 link-underline-opacity-75-hover"><i class="bi bi-github fs-4"></i></a></li><li class="nav-item"><a href="mailto:ektoderwang@gmail.com" class="link-body-emphasis link-offset-2 link-underline-opacity-25 link-underline-opacity-75-hover"><i class="bi bi-envelope fs-4"></i></a></li><li class="nav-item"><a href="tel:0912345678" class="link-body-emphasis link-offset-2 link-underline-opacity-25 link-underline-opacity-75-hover"><i class="bi bi-telephone fs-4"></i></a></li></ul></div></div>',1),rs={class:"row mt-3"},us={class:"m-auto col-auto"},hs=t("i",{class:"bi bi-c-circle fs-6 mx-2"},null,-1);function _s(o,s,i,C,c,p){const h=v("router-link"),l=v("RouterLink"),f=v("ProductComponent");return n(),a(m,null,[t("div",ct,[t("div",dt,[d(h,{to:"#topic",style:{"--bs-icon-link-transform":"translate3d(0, 0.2rem, 0)","max-width":"500px"},class:"icon-link icon-link-hover m-auto btn p-4 bg-white bg-opacity-25 d-flex flex-column"},{default:u(()=>[rt,ut,ht,_t,pt]),_:1})]),t("div",bt,[t("div",mt,[d(h,{to:"/products",class:"backdrop-blur icon-link w-50 h-50 icon-link-hover d-flex flex-column rounded-5 justify-content-center btn btn-outline-primary border-3 d-flex align-items-center shadow",style:{"--bs-icon-link-transform":"translate3d(0, -0.5rem, 0)"}},{default:u(()=>[gt,ft]),_:1}),d(h,{to:"/news",class:"icon-link backdrop-blur icon-link-hover w-50 h-50 d-flex flex-column rounded-5 justify-content-center btn btn-outline-primary border-3 d-flex align-items-center shadow",style:{"--bs-icon-link-transform":"translate3d(0, -0.5rem, 0)"}},{default:u(()=>[vt,yt]),_:1}),d(h,{to:"/about",class:"icon-link backdrop-blur icon-link-hover w-50 h-50 d-flex flex-column rounded-5 justify-content-center btn btn-outline-primary border-3 d-flex align-items-center shadow",style:{"--bs-icon-link-transform":"translate3d(0, -0.5rem, 0)"}},{default:u(()=>[kt,xt]),_:1})])]),t("div",wt,[t("div",Pt,[$t,t("div",Ct,[t("div",Mt,[(n(!0),a(m,null,g(c.products,(e,b)=>(n(),a("button",{key:e,type:"button","data-bs-target":"#carouselExampleCaptions",class:y([{active:b==0},"text-bg-primary"]),"aria-current":"true","data-bs-slide-to":b,"aria-label":`Slide ${b+1}`},null,10,Et))),128))]),t("div",St,[(n(!0),a(m,null,g(c.products,(e,b)=>(n(),a("div",{class:y(["carousel-item",{active:b==0}]),key:e},[t("img",{src:e==null?void 0:e.imagesUrl[0],class:"d-block img-fluid w-100 object-fit-cover rounded-5",style:{height:"80vh"},alt:e.title},null,8,jt),t("div",At,[t("h4",Tt,r(e.title),1),t("button",{class:"btn btn-outline-primary",onClick:ps=>p.openModal(e)},"查看詳情",8,Dt)])],2))),128))]),Nt])])]),t("div",Vt,[t("div",Lt,[t("div",It,[Bt,Rt,(n(!0),a(m,null,g(c.articles,e=>(n(),a("div",{class:"card",key:e},[t("h3",Ut,r(e.title),1),t("div",{class:"card-body",style:{cursor:"pointer"},onClick:()=>o.$router.push(`./news/${e.id}`)},[e.num==1?(n(),a("span",Qt,"NEW")):$("",!0),t("blockquote",qt,[t("p",null,r(p.showDescription(e.description)),1),t("p",Ft,[_(" 發布時間 "),t("cite",Jt,r(p.timestampToTwTime(e.create_at)),1)])])],8,Ot)]))),128))])])]),t("footer",Wt,[t("div",zt,[t("div",Ht,[t("div",Yt,[t("ul",Gt,[t("li",Kt,[d(l,{to:"/products",class:"link-body-emphasis link-offset-2 link-underline-opacity-25 link-underline-opacity-75-hover"},{default:u(()=>[Xt,Zt]),_:1})]),t("li",ts,[d(l,{to:"/news",class:"link-body-emphasis link-offset-2 link-underline-opacity-25 link-underline-opacity-75-hover"},{default:u(()=>[ss,es]),_:1})]),t("li",os,[d(l,{to:"/about",class:"link-body-emphasis link-offset-2 link-underline-opacity-25 link-underline-opacity-75-hover"},{default:u(()=>[is,ns]),_:1})]),t("li",as,[d(l,{to:"/carts",class:"link-body-emphasis link-offset-2 link-underline-opacity-25 link-underline-opacity-75-hover"},{default:u(()=>[ls,cs]),_:1})])])])]),ds,t("div",rs,[t("span",us,[_("Copyright"),hs,_(r(new Date().getFullYear())+" Tippy Wang",1)])])])])]),d(f,{tempProduct:c.tempProduct,onModal:s[0]||(s[0]=e=>c.detailModal=e)},null,8,["tempProduct"])],64)}const ys=P(lt,[["render",_s]]);export{ys as default};
